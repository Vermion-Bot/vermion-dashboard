<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vermion Dashboard</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="/static/dashboard.css" />
  </head>
  <body>
    <div class="app-container">
      <header class="header">
        <div class="header-content">
          <div class="logo">
            <i class="fab fa-discord" style="font-size: 32px"></i>
            <span>Vermion Dashboard</span>
          </div>

          <div class="user-info" id="userInfo">
            <div class="user-loading">Bet√∂lt√©s...</div>
          </div>
        </div>
      </header>

      <main class="main-content">
        <aside class="sidebar">
          <div class="sidebar-section">
            <h3 class="sidebar-title">Men√º</h3>
            <div class="menu-items">
              <div class="menu-item active" onclick="showSection('config')">
                <i class="fas fa-cog"></i>
                <span>Konfigur√°ci√≥</span>
              </div>
              <div class="menu-item" onclick="showSection('embed')">
                <i class="fas fa-envelope"></i>
                <span>Embed K√ºld≈ë</span>
              </div>
              <div class="menu-item" onclick="showSection('list')">
                <i class="fa-solid fa-list"></i>
                <span>Lista k√ºld≈ë</span>
              </div>
            </div>
          </div>

          <div class="sidebar-section">
            <h3 class="sidebar-title">Szerverek</h3>
            <div id="guildsList" class="guilds-list">
              <div class="loading-spinner"></div>
            </div>
          </div>
        </aside>

        <section class="config-panel">
          <div id="noGuildSelected" class="no-selection">
            <i class="fas fa-layer-group" style="font-size: 64px"></i>
            <h2>V√°lassz szervert</h2>
            <p>
              V√°laszd ki a konfigur√°lni k√≠v√°nt szervert a bal oldali list√°b√≥l
            </p>
          </div>

          <div id="configSection" class="section-content" style="display: none">
            <div class="config-form">
              <div class="config-header">
                <div class="guild-info-header">
                  <img
                    id="configGuildIcon"
                    class="guild-icon-large"
                    src=""
                    alt=""
                  />
                  <div>
                    <h2 id="configGuildName">Szerver neve</h2>
                    <p class="guild-id-display">
                      ID: <span id="configGuildId"></span>
                    </p>
                  </div>
                </div>
              </div>

              <div class="config-content">
                <div class="form-section">
                  <label for="testMessage">Teszt √úzenet</label>
                  <textarea
                    id="testMessage"
                    placeholder="√çrd be az √ºzenetet amit a bot k√ºldeni fog..."
                    rows="8"
                  ></textarea>
                  <p class="field-description">
                    Ez az √ºzenet jelenik meg amikor a bot tesztel√©st v√©gez
                  </p>
                </div>

                <div class="button-group">
                  <button class="btn btn-primary" onclick="saveConfig()">
                    <i class="fas fa-save"></i>
                    Ment√©s
                  </button>
                  <button class="btn btn-secondary" onclick="loadConfig()">
                    <i class="fas fa-sync-alt"></i>
                    √öjrat√∂lt√©s
                  </button>
                </div>

                <div id="configStatus" class="status"></div>
              </div>
            </div>
            <!-- AutoMod r√©sz -->
            <div id="autoModSection">
              <div class="section-header">
                <h2>üõ°Ô∏è Auto-Moder√°ci√≥</h2>
                <p>
                  Automatikus moder√°ci√≥s szab√°lyok be√°ll√≠t√°sa a szerveredhez
                </p>
              </div>

              <div class="settings-container">
                <!-- Spam & Caps Sz≈±r√©s -->
                <div class="setting-group">
                  <div class="setting-title">
                    <span class="icon">‚ö°</span>
                    <span>Spam & Caps Sz≈±r√©s</span>
                  </div>

                  <div class="setting-item">
                    <div class="setting-label">
                      <span class="title">Spam V√©delem</span>
                      <span class="description"
                        >Azonos √ºzenetek ism√©tl√©s√©nek megakad√°lyoz√°sa</span
                      >
                    </div>
                    <label class="toggle-switch">
                      <input type="checkbox" id="spamProtection" />
                      <span class="slider"></span>
                    </label>
                  </div>

                  <div class="setting-item">
                    <div class="setting-label">
                      <span class="title">Max. √úzenet / 5 m√°sodperc</span>
                      <span class="description"
                        >H√°ny √ºzenetet k√ºldhet egy felhaszn√°l√≥ 5 m√°sodperc
                        alatt</span
                      >
                    </div>
                    <input
                      type="number"
                      class="number-input"
                      id="maxMessages"
                      min="1"
                      max="20"
                      value="5"
                    />
                  </div>

                  <div class="setting-item">
                    <div class="setting-label">
                      <span class="title">Caps Lock Limit (%)</span>
                      <span class="description"
                        >Maximum nagybet≈±s karakterek sz√°zal√©ka egy
                        √ºzenetben</span
                      >
                    </div>
                    <input
                      type="number"
                      class="number-input"
                      id="capsLimit"
                      min="0"
                      max="100"
                      value="70"
                    />
                  </div>

                  <div class="setting-item">
                    <div class="setting-label">
                      <span class="title">Emoji Spam V√©delem</span>
                      <span class="description"
                        >T√∫l sok emoji haszn√°lat√°nak korl√°toz√°sa</span
                      >
                    </div>
                    <label class="toggle-switch">
                      <input type="checkbox" id="emojiSpam" />
                      <span class="slider"></span>
                    </label>
                  </div>

                  <div class="setting-item">
                    <div class="setting-label">
                      <span class="title">Max. Emoji / √úzenet</span>
                      <span class="description"
                        >Maximum enged√©lyezett emoji egy √ºzenetben</span
                      >
                    </div>
                    <input
                      type="number"
                      class="number-input"
                      id="maxEmojis"
                      min="1"
                      max="50"
                      value="10"
                    />
                  </div>
                </div>

                <!-- Tiltott Szavak -->
                <div class="setting-group">
                  <div class="setting-title">
                    <span class="icon">üö´</span>
                    <span>Tiltott Szavak List√°ja</span>
                  </div>

                  <div
                    class="setting-item"
                    style="flex-direction: column; align-items: stretch"
                  >
                    <div class="setting-label" style="margin-bottom: 15px">
                      <span class="title">Sz≈±r√©s Akt√≠v</span>
                      <span class="description"
                        >Automatikusan t√∂rli a tiltott szavakat tartalmaz√≥
                        √ºzeneteket</span
                      >
                    </div>
                    <label
                      class="toggle-switch"
                      style="align-self: flex-end; margin-bottom: 15px"
                    >
                      <input type="checkbox" id="badWordFilter" />
                      <span class="slider"></span>
                    </label>

                    <div class="word-list-container">
                      <div class="word-input-group">
                        <input
                          type="text"
                          class="word-input"
                          id="newBadWord"
                          placeholder="Adj hozz√° tiltott sz√≥t..."
                        />
                        <button class="add-word-btn" onclick="addBadWord()">
                          + Hozz√°ad
                        </button>
                      </div>
                      <div class="words-display" id="badWordsList">
                        <span class="empty-state"
                          >M√©g nincsenek tiltott szavak hozz√°adva</span
                        >
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Figyelmeztet√©si Rendszer -->
                <div class="setting-group">
                  <div class="setting-title">
                    <span class="icon">‚ö†Ô∏è</span>
                    <span>Figyelmeztet√©si Rendszer</span>
                  </div>

                  <div class="setting-item">
                    <div class="setting-label">
                      <span class="title">Automatikus B√ºntet√©s</span>
                      <span class="description"
                        >Automatikus int√©zked√©s bizonyos sz√°m√∫ figyelmeztet√©s
                        ut√°n</span
                      >
                    </div>
                    <label class="toggle-switch">
                      <input type="checkbox" id="autoWarnPunish" />
                      <span class="slider"></span>
                    </label>
                  </div>

                  <div
                    class="setting-item"
                    style="flex-direction: column; align-items: stretch"
                  >
                    <div class="setting-label" style="margin-bottom: 15px">
                      <span class="title">B√ºntet√©si Szintek</span>
                      <span class="description"
                        >√Åll√≠tsd be, hogy h√°ny warning ut√°n mi t√∂rt√©njen</span
                      >
                    </div>
                    <div class="warning-system">
                      <div class="warning-option">
                        <label>Timeout ut√°n:</label>
                        <input
                          type="number"
                          class="number-input"
                          id="warnTimeout"
                          min="1"
                          max="20"
                          value="3"
                        />
                      </div>
                      <div class="warning-option">
                        <label>Kick ut√°n:</label>
                        <input
                          type="number"
                          class="number-input"
                          id="warnKick"
                          min="1"
                          max="20"
                          value="5"
                        />
                      </div>
                      <div class="warning-option">
                        <label>Ban ut√°n:</label>
                        <input
                          type="number"
                          class="number-input"
                          id="warnBan"
                          min="1"
                          max="20"
                          value="7"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="setting-item">
                    <div class="setting-label">
                      <span class="title">Warning Lej√°rat (napok)</span>
                      <span class="description"
                        >Automatikus t√∂rl√©s X nap ut√°n (0 = soha)</span
                      >
                    </div>
                    <input
                      type="number"
                      class="number-input"
                      id="warnExpiry"
                      min="0"
                      max="365"
                      value="30"
                    />
                  </div>
                </div>

                <button class="save-btn" onclick="saveSettings()">
                  üíæ Be√°ll√≠t√°sok Ment√©se
                </button>
              </div>
            </div>
          </div>

          <!-- Embed Section -->
          <div id="embedSection" class="section-content" style="display: none">
            <div class="embed-builder">
              <div class="embed-header">
                <div class="guild-info-header">
                  <img
                    id="embedGuildIcon"
                    class="guild-icon-large"
                    src=""
                    alt=""
                  />
                  <div>
                    <h2 id="embedGuildName">Szerver neve</h2>
                    <p class="guild-id-display">
                      ID: <span id="embedGuildId"></span>
                    </p>
                  </div>
                </div>
              </div>

              <div class="embed-container">
                <div class="embed-editor">
                  <div class="editor-section">
                    <h3 class="section-title">
                      <i class="fas fa-hashtag"></i>
                      Csatorna kiv√°laszt√°sa
                    </h3>
                    <div class="form-group">
                      <select id="channelSelect" class="channel-select">
                        <option value="">Csatorna bet√∂lt√©se...</option>
                      </select>
                    </div>
                  </div>

                  <div class="editor-section">
                    <h3 class="section-title">
                      <i class="fas fa-user"></i>
                      Szerz≈ë
                    </h3>
                    <div class="form-group">
                      <label>Szerz≈ë neve</label>
                      <input
                        type="text"
                        id="authorName"
                        placeholder="Szerz≈ë neve"
                        maxlength="256"
                      />
                    </div>
                    <div class="form-group">
                      <label>Szerz≈ë URL</label>
                      <input
                        type="url"
                        id="authorUrl"
                        placeholder="https://example.com"
                      />
                    </div>
                    <div class="form-group">
                      <label>Szerz≈ë ikon URL</label>
                      <input
                        type="url"
                        id="authorIcon"
                        placeholder="https://i.imgur.com/icon.png"
                      />
                    </div>
                  </div>

                  <div class="editor-section">
                    <h3 class="section-title">
                      <i class="fas fa-heading"></i>
                      Tartalom
                    </h3>
                    <div class="form-group">
                      <label>C√≠m</label>
                      <input
                        type="text"
                        id="embedTitle"
                        placeholder="Embed c√≠me"
                        maxlength="256"
                      />
                    </div>
                    <div class="form-group">
                      <label>URL</label>
                      <input
                        type="url"
                        id="embedUrl"
                        placeholder="https://example.com"
                      />
                    </div>
                    <div class="form-group">
                      <label>Le√≠r√°s</label>
                      <textarea
                        id="embedDescription"
                        placeholder="Embed le√≠r√°sa..."
                        rows="6"
                        maxlength="4096"
                      ></textarea>
                    </div>
                    <div class="form-group">
                      <label>Sz√≠n</label>
                      <div class="color-input-group">
                        <input type="color" id="embedColor" value="#5865F2" />
                        <input
                          type="text"
                          id="embedColorHex"
                          value="#5865F2"
                          placeholder="#5865F2"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="editor-section">
                    <h3 class="section-title">
                      <i class="fas fa-image"></i>
                      K√©pek
                    </h3>
                    <div class="form-group">
                      <label>K√©p URL (nagy k√©p)</label>
                      <input
                        type="url"
                        id="embedImage"
                        placeholder="https://i.imgur.com/image.png"
                      />
                    </div>
                    <div class="form-group">
                      <label>Thumbnail URL (kis k√©p)</label>
                      <input
                        type="url"
                        id="embedThumbnail"
                        placeholder="https://i.imgur.com/thumb.png"
                      />
                    </div>
                  </div>

                  <div class="editor-section">
                    <h3 class="section-title">
                      <i class="fas fa-shoe-prints"></i>
                      L√°bl√©c
                    </h3>
                    <div class="form-group">
                      <label>L√°bl√©c sz√∂vege</label>
                      <input
                        type="text"
                        id="footerText"
                        placeholder="L√°bl√©c sz√∂vege"
                        maxlength="2048"
                      />
                    </div>
                    <div class="form-group">
                      <label>L√°bl√©c ikon URL</label>
                      <input
                        type="url"
                        id="footerIcon"
                        placeholder="https://i.imgur.com/icon.png"
                      />
                    </div>
                    <div class="form-group">
                      <label>
                        <input type="checkbox" id="embedTimestamp" />
                        Id≈ëb√©lyeg hozz√°ad√°sa
                      </label>
                    </div>
                  </div>

                  <div class="editor-section">
                    <h3 class="section-title">
                      <i class="fas fa-list"></i>
                      Mez≈ëk
                    </h3>
                    <div id="fieldsContainer"></div>
                    <button class="btn btn-secondary" onclick="addField()">
                      <i class="fas fa-plus"></i>
                      Mez≈ë hozz√°ad√°sa
                    </button>
                  </div>

                  <div class="button-group">
                    <button class="btn btn-primary" onclick="sendEmbed()">
                      <i class="fas fa-paper-plane"></i>
                      Embed K√ºld√©se
                    </button>
                    <button class="btn btn-secondary" onclick="clearEmbed()">
                      <i class="fas fa-trash"></i>
                      T√∂rl√©s
                    </button>
                  </div>

                  <div id="embedStatus" class="status"></div>
                </div>

                <div class="embed-preview">
                  <h3 class="preview-title">
                    <i class="fas fa-eye"></i>
                    El≈ën√©zet
                  </h3>
                  <div class="discord-preview">
                    <div class="discord-message">
                      <div class="discord-avatar">
                        <img src="static/images/vermion-logo.png" alt="Bot" />
                      </div>
                      <div class="discord-content">
                        <div class="discord-header">
                          <span class="discord-username">Vermion</span>
                          <span class="discord-bot-badge">BOT</span>
                          <span class="discord-timestamp">Ma 12:00</span>
                        </div>
                        <div id="embedPreview" class="discord-embed">
                          <div class="discord-embed-empty">
                            <i class="fas fa-info-circle"></i>
                            <p>T√∂ltsd ki a mez≈ëket az embed megjelen√≠t√©s√©hez</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Dropdown Section -->
          <div id="listSection" class="section-content" style="display: none">
            <div class="dropdown-builder">
              <div class="dropdown-header">
                <div class="guild-info-header">
                  <img
                    id="dropdownGuildIcon"
                    class="guild-icon-large"
                    src=""
                    alt=""
                  />
                  <div>
                    <h2 id="dropdownGuildName">Szerver neve</h2>
                    <p class="guild-id-display">
                      ID: <span id="dropdownGuildId"></span>
                    </p>
                  </div>
                </div>
              </div>

              <div class="dropdown-container">
                <div class="dropdown-editor">
                  <div class="editor-section">
                    <h3 class="section-title">
                      <i class="fas fa-hashtag"></i>
                      Csatorna kiv√°laszt√°sa
                    </h3>
                    <div class="form-group">
                      <select id="dropdownChannelSelect" class="channel-select">
                        <option value="">Csatorna bet√∂lt√©se...</option>
                      </select>
                    </div>
                  </div>

                  <div class="editor-section">
                    <h3 class="section-title">
                      <i class="fas fa-cog"></i>
                      Alapbe√°ll√≠t√°sok
                    </h3>
                    <div class="form-group">
                      <label>√úzenet (opcion√°lis)</label>
                      <textarea
                        id="dropdownMessage"
                        placeholder="Ide √≠rd az √ºzenetet ami a dropdown felett jelenik meg..."
                        rows="3"
                        maxlength="2000"
                      ></textarea>
                    </div>
                    <div class="form-group">
                      <label>Custom ID</label>
                      <input
                        type="text"
                        id="dropdownCustomId"
                        placeholder="dropdown_custom_id"
                        maxlength="100"
                      />
                      <p class="field-description">
                        Ez az azonos√≠t√≥ a bot sz√°m√°ra jelzi, hogy melyik
                        dropdown-r√≥l van sz√≥
                      </p>
                    </div>
                    <div class="form-group">
                      <label>Placeholder sz√∂veg</label>
                      <input
                        type="text"
                        id="dropdownPlaceholder"
                        placeholder="V√°lassz egy opci√≥t..."
                        maxlength="150"
                      />
                    </div>
                    <div class="form-group">
                      <label>Minimum kiv√°laszthat√≥ opci√≥k sz√°ma</label>
                      <input
                        type="number"
                        id="dropdownMinValues"
                        value="1"
                        min="1"
                        max="25"
                      />
                    </div>
                    <div class="form-group">
                      <label>Maximum kiv√°laszthat√≥ opci√≥k sz√°ma</label>
                      <input
                        type="number"
                        id="dropdownMaxValues"
                        value="1"
                        min="1"
                        max="25"
                      />
                    </div>
                  </div>

                  <div class="editor-section">
                    <h3 class="section-title">
                      <i class="fas fa-list"></i>
                      Opci√≥k
                    </h3>
                    <div id="dropdownOptionsContainer"></div>
                    <button
                      class="btn btn-secondary"
                      onclick="addDropdownOption()"
                    >
                      <i class="fas fa-plus"></i>
                      Opci√≥ hozz√°ad√°sa
                    </button>
                  </div>

                  <div class="button-group">
                    <button class="btn btn-primary" onclick="sendDropdown()">
                      <i class="fas fa-paper-plane"></i>
                      Dropdown K√ºld√©se
                    </button>
                    <button class="btn btn-secondary" onclick="clearDropdown()">
                      <i class="fas fa-trash"></i>
                      T√∂rl√©s
                    </button>
                  </div>

                  <div id="dropdownStatus" class="status"></div>
                </div>

                <div class="dropdown-preview">
                  <h3 class="preview-title">
                    <i class="fas fa-eye"></i>
                    El≈ën√©zet
                  </h3>
                  <div class="discord-preview">
                    <div class="discord-message">
                      <div class="discord-avatar">
                        <img src="static/images/vermion-logo.png" alt="Bot" />
                      </div>
                      <div class="discord-content">
                        <div class="discord-header">
                          <span class="discord-username">Vermion</span>
                          <span class="discord-bot-badge">BOT</span>
                          <span class="discord-timestamp">Ma 12:00</span>
                        </div>
                        <div
                          id="dropdownMessagePreview"
                          class="discord-message-text"
                        ></div>
                        <div id="dropdownPreview" class="discord-dropdown">
                          <div class="dropdown-empty">
                            <i class="fas fa-info-circle"></i>
                            <p>
                              Adj hozz√° opci√≥kat a dropdown megjelen√≠t√©s√©hez
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script src="/static/js/utils.js"></script>

    <!-- 2. Independent modules -->
    <script src="/static/js/navigation.js"></script>
    <script src="/static/js/auth.js"></script>

    <!-- 3. Modules that depend on utils -->
    <script src="/static/js/guilds.js"></script>
    <script src="/static/js/config.js"></script>
    <script src="/static/js/channels.js"></script>
    <script src="/static/js/embed-fields.js"></script>
    <script src="/static/js/embed.js"></script>
    <script src="/static/js/dropdown.js"></script>

    <!-- 4. Auto Moderation  -->
     <script src="/static/js/automod.js"></script>

    <!-- 5. Main initialization (depends on everything) -->
    <script src="/static/js/main.js"></script>
  </body>
</html>
